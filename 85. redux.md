## what is Redux

- redux is a libraray that is good ar state management.
- it stores all the state in a complex object in the top component.
- it can prevent the caos of too many state and data flow.
- it is inspired by database design. 
- it's not designed for only react, but just happened to work well with it.


## why Redux

- when our app gets bigger, we need it to manage the state.
- can share states between two containers.
  - we need a parent component to solve this in react.
- predictible state, sine it follows these principles:
  - single source
  - read only
  - changed by only pure function
  
## what Redux do

- action -> reducer -> store -> make changes, one way data-flow
  - action: button, trigger
  - reducer: pure function
  - store: state

## one sentence to describe Redux

- think of Redux as "this.state"

## installation of Redux
### use redux on the previous project
- ```git clone + url``` the project
- ```npm install``` to download the needed packages
- ```npm start``` to see if it works well

### installation
- ``` npm install redux```
- ``` npm install react-redux``` to let redux connects to react
  - redux only connects to container, not dumb components.


## start using Redux
- action -> reducer -> store -> make changes

### actions.js
- define an action that returns an object, such as setSearchfield, receives a parameter- text.
  - return an object that contains:
  - type: the action that is going to take
  - payload: data send to reducer. 
- export this action
- import { actionName } from constant file
  - replace type name with constant

### constants.js
- export it.
- set action name as a constant

### reducers.js
- import constants.js
- a big function, reads actions and spit out state.
- need a initial state declaring in an object.
- a reducer is a function that has default parameters, and:
  - state=initial state
  - action is an empty { }. action parameter is object that we are returning in action.
- use switch case, the case is action.type
  - default
  
## Object.assign()

### a shallow clone
```
const o1 = {a:1, b:2, c:3};
const clone = Object.assign({}, o1) // pass by value
console.log(clone); // {a:1, b:2, c:3}
```

### merge objects
```
const o1 = { a: 1, b: 1, c: 1 };
const o2 = { b: 2, c: 2 };
const o3 = { c: 3 };

const obj = Object.assign({}, o1, o2, o3);
console.log(obj);
// {a: 1, b: 2, c: 3}
```
- same property will be overwritten

### use this on Reducers.js
```
export const searchRobots = (state=initialState, action={}) => {
    switch (action.type) {
        case CHANGE_SEARCH_FIELD:
            // return a new state, not modify it
            // merge several things to the first parameter { }
            return Object.assign({}, state, {searchfield : action.payload});
        default:
            return state;
    }
```




