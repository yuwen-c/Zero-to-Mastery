# aynce/await function always returns a `promise`
- async function returns a promise instead of a value? <br/>
https://stackoverflow.com/questions/51338277/async-function-returning-promise-instead-of-value
<br/>
https://stackoverflow.com/questions/35302431/async-await-implicitly-returns-promise

# always get the value from `promise` with `.then`
- what does .then do with promise?       
https://stackoverflow.com/questions/3884281/what-does-the-function-then-mean-in-javascript

## something further... wrap the async function in hook 
- if not, there will be a eslint error    
https://stackoverflow.com/questions/53332321/react-hook-warnings-for-async-function-in-useeffect-useeffect-function-must-ret

## some code

### define an async function and return the response
- the response inside is a value, no problem (log 2)
- but if we assign the execution result to an variable, it's a promise (log 1)
```js
  useEffect(() => {
    const getData = async () => {
      const response = await getRedirectResult(auth);
      console.log("run 2, a value", response);
      return response;
    };
    const resultOfReturn = getData();
    console.log("resultOfReturn 1, a promise", resultOfReturn);
  }, []);


```

### define an async function and do `.then` with it's return
- the response in async function is a value, no problem. (log 2)
- use `.then` to the return of the async function, we can get the value. (log 3)
- curiously, the result of `.then` is another promise. (log 1)
```js
  useEffect(() => {
    const getData = async () => {
      const response = await getRedirectResult(auth);
      console.log("run 2, a value", response);
      return response;
    };
    const resultOfThen = getData().then((res) =>
      console.log("res from then 3, a value", res)
    );
    console.log("resultOfThen 1, a promise", resultOfThen);
  }, []);

```

## execution order
- in async/await block, code after await will be blocked
- outside of the block, code will be executed immediately.
- so the console.log after the async function always gets run first.


