
# promise, a big object.
- ```new Promise``` - make a new promise object depends on the class,
- this promise has: PromiseState, and PromiseResult properties.

## the complete syntax
1. assign to a variable
```js
let p = new Promise((resolve, reject) => {
  setTimeout(() => {resolve(50)}, 2000)
})
```
***USE ARROW FUNCTION in setTimeout callback, if not, the function will be executed directly.***
- the p maintains <pending> status utill fulfilled status in 2 sec. and the result is 50.
- to get the result value, use ```.then```
```js
p.then(r=>console.log(r))
// 50
```
2. return in a function
```js
const pFun = () => {
  return new Promise((resolve, reject) => {
    setTimeout(() => {resolve("good job"), 5000})
  })  
}
```
```js
console.log(pFun):
  a function

console.log(pFun()):
  a promise
  
pFun().then(r=>console.log(r)):
  get the result
```

# simple review in synchronous and asynchrous
- synchronous, do one thing at a time, when running to a code that taking lot of time,  just wait.
- asynchrous, put that kind of things to WEB API, event loop can help us do these things, meanwhile, the engine can keep running to the next line, avoid be blocking on one line. when engine is ready, it's turn to that code.

=> asynchrous function takes lot time, so engine can put this code to it's backstage, jump to the next function.

# async/ await
- guide: https://javascript.info/async-await 
- async function returns a promise.
- just like using promise.resolve() method.
```
async function f() {
  return 1;
}

f() // a promise
f().then(console.log) // 1
```
async function f() {
  return Promise.resolve(1);
}
```




## async

```
async function f1() {

  let promise = new Promise((resolve, reject) => {
    setTimeout(() => resolve("f1 promise.await"), 5000)
  });

  let result = await promise; 
  console.log(result);
  
  console.log("f1 test")
}

const f2 = () => {
    console.log("f2")
}

const f3 = async() => {
    let promise = new Promise((res, rej) => {
        setTimeout(() => res("f3 promise.then"), 3000)
    });
    promise.then(r => console.log(r))
    console.log("f3 test")
}

const f4 = () => {
    console.log("f4")
}

f1();
f2();
f3();
f4();

// 0 sec
f2
f3 test
f4

// 3 sec
f3 promise.then

// 5 sec
f1 promise.await
f1 test
```
